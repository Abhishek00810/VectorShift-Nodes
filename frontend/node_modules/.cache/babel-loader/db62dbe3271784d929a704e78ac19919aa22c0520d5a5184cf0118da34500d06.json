{"ast":null,"code":"var _jsxFileName = \"/Users/abhishekdadwal/nothing/vectorshift_assesment/frontend/src/nodes/textNode.js\",\n  _s = $RefreshSig$();\n// textNode.js\n\nimport { useState, useEffect, useRef, useCallback } from 'react';\nimport { Position } from 'reactflow';\nimport { BaseNode } from './BaseNode';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TextNode = ({\n  id,\n  data\n}) => {\n  _s();\n  const [currText, setCurrText] = useState((data === null || data === void 0 ? void 0 : data.text) || '{{input}}');\n  const [dimensions, setDimensions] = useState({\n    width: 200,\n    height: 80\n  });\n  const [variables, setVariables] = useState([]);\n  const textareaRef = useRef(null);\n\n  // Extract variables from text - finds all {{variableName}} patterns\n  const extractVariables = useCallback(text => {\n    const regex = /\\{\\{(\\s*[a-zA-Z_$][a-zA-Z0-9_$]*\\s*)\\}\\}/g;\n    const found = [];\n    let match;\n    while ((match = regex.exec(text)) !== null) {\n      const varName = match[1].trim();\n      if (!found.includes(varName)) {\n        found.push(varName);\n      }\n    }\n    return found;\n  }, []);\n  const handleTextChange = e => {\n    setCurrText(e.target.value);\n  };\n\n  // Update dimensions when text changes\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      const scrollHeight = textareaRef.current.scrollHeight;\n      const textLength = currText.length;\n      const calculatedWidth = Math.max(200, Math.min(400, 200 + textLength * 2));\n      const calculatedHeight = Math.max(100, scrollHeight + 60 + variables.length * 20);\n      setDimensions({\n        width: calculatedWidth,\n        height: calculatedHeight\n      });\n      textareaRef.current.style.height = scrollHeight + 'px';\n    }\n  }, [currText, variables.length]);\n\n  // Extract variables whenever text changes\n  useEffect(() => {\n    const detectedVars = extractVariables(currText);\n    setVariables(detectedVars);\n  }, [currText, extractVariables]);\n  const handles = [...variables.map((varName, index) => ({\n    type: 'target',\n    position: Position.Left,\n    id: varName,\n    style: {\n      top: `${50 + index * 25}px`\n    },\n    label: varName\n  })), {\n    type: 'source',\n    position: Position.Right,\n    id: 'output'\n  }];\n  return /*#__PURE__*/_jsxDEV(BaseNode, {\n    id: id,\n    title: \"Text\",\n    handles: handles,\n    width: dimensions.width,\n    height: dimensions.height,\n    dynamic: true,\n    color: \"#f59e0b\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          display: 'block',\n          marginBottom: '10px',\n          fontSize: '12px',\n          color: '#666'\n        },\n        children: [\"Type text with variables (e.g., \", `{{name}}`, \"):\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        ref: textareaRef,\n        value: currText,\n        className: \"nodrag\",\n        onChange: handleTextChange,\n        placeholder: \"Hello {{name}}, welcome!\",\n        style: {\n          width: '100%',\n          minHeight: '40px',\n          resize: 'none',\n          padding: '8px',\n          fontSize: '14px',\n          border: '1px solid #ccc',\n          borderRadius: '4px',\n          fontFamily: 'monospace',\n          overflow: 'hidden',\n          backgroundColor: '#fafafa',\n          boxSizing: 'border-box'\n        },\n        rows: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n_s(TextNode, \"nWd+yVapVeQ8WXrz0muhN2xZtFs=\");\n_c = TextNode;\nvar _c;\n$RefreshReg$(_c, \"TextNode\");","map":{"version":3,"names":["useState","useEffect","useRef","useCallback","Position","BaseNode","jsxDEV","_jsxDEV","TextNode","id","data","_s","currText","setCurrText","text","dimensions","setDimensions","width","height","variables","setVariables","textareaRef","extractVariables","regex","found","match","exec","varName","trim","includes","push","handleTextChange","e","target","value","current","style","scrollHeight","textLength","length","calculatedWidth","Math","max","min","calculatedHeight","detectedVars","handles","map","index","type","position","Left","top","label","Right","title","dynamic","color","children","display","marginBottom","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","ref","className","onChange","placeholder","minHeight","resize","padding","border","borderRadius","fontFamily","overflow","backgroundColor","boxSizing","rows","_c","$RefreshReg$"],"sources":["/Users/abhishekdadwal/nothing/vectorshift_assesment/frontend/src/nodes/textNode.js"],"sourcesContent":["// textNode.js\n\nimport { useState, useEffect, useRef, useCallback } from 'react';\nimport { Position } from 'reactflow';\nimport { BaseNode } from './BaseNode';\n\nexport const TextNode = ({ id, data }) => {\n  const [currText, setCurrText] = useState(data?.text || '{{input}}');\n  const [dimensions, setDimensions] = useState({ width: 200, height: 80 });\n  const [variables, setVariables] = useState([]);\n  const textareaRef = useRef(null);\n\n  // Extract variables from text - finds all {{variableName}} patterns\n  const extractVariables = useCallback((text) => {\n    const regex = /\\{\\{(\\s*[a-zA-Z_$][a-zA-Z0-9_$]*\\s*)\\}\\}/g;\n    const found = [];\n    let match;\n    \n    while ((match = regex.exec(text)) !== null) {\n      const varName = match[1].trim();\n      if (!found.includes(varName)) {\n        found.push(varName);\n      }\n    }\n    \n    return found;\n  }, []);\n\n  const handleTextChange = (e) => {\n    setCurrText(e.target.value);\n  };\n\n  // Update dimensions when text changes\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      const scrollHeight = textareaRef.current.scrollHeight;\n      \n      const textLength = currText.length;\n      const calculatedWidth = Math.max(200, Math.min(400, 200 + textLength * 2));\n      const calculatedHeight = Math.max(100, scrollHeight + 60 + (variables.length * 20));\n      \n      setDimensions({\n        width: calculatedWidth,\n        height: calculatedHeight\n      });\n      textareaRef.current.style.height = scrollHeight + 'px';\n    }\n  }, [currText, variables.length]);\n\n  // Extract variables whenever text changes\n  useEffect(() => {\n    const detectedVars = extractVariables(currText);\n    setVariables(detectedVars);\n  }, [currText, extractVariables]);\n\n  const handles = [\n    ...variables.map((varName, index) => ({\n      type: 'target',\n      position: Position.Left,\n      id: varName,\n      style: { top: `${50 + index * 25}px` },\n      label: varName \n    })),\n    {\n      type: 'source',\n      position: Position.Right,\n      id: 'output'\n    }\n  ];\n  \n  return (\n    <BaseNode \n      id={id} \n      title=\"Text\" \n      handles={handles}\n      width={dimensions.width}\n      height={dimensions.height}\n      dynamic={true}\n      color=\"#f59e0b\">\n    \n      <div>\n        <label style={{ display: 'block', marginBottom: '10px', fontSize: '12px', color: '#666' }}>\n          Type text with variables (e.g., {`{{name}}`}):\n        </label>\n        <textarea\n          ref={textareaRef}\n          value={currText}\n          className=\"nodrag\"\n          onChange={handleTextChange}\n          placeholder=\"Hello {{name}}, welcome!\"\n          style={{\n            width: '100%',\n            minHeight: '40px',\n            resize: 'none',\n            padding: '8px',\n            fontSize: '14px',\n            border: '1px solid #ccc',\n            borderRadius: '4px',\n            fontFamily: 'monospace',\n            overflow: 'hidden',\n            backgroundColor: '#fafafa',\n            boxSizing: 'border-box'\n          }}\n          rows={1}\n        />\n      </div>\n    </BaseNode>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}